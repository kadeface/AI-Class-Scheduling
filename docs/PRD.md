# 智能排课排场室系统 (K-12 版) - 产品需求文档 (PRD)

| **文档版本** | **修订日期** | **修订人** | **修订说明** |
| :--- | :--- | :--- | :--- |
| V1.0 | 2023-10-27 | AI 助手 | 初版创建，基于 K-12 场景需求讨论 |

## 1.0 项目概述

### 1.1 项目背景
目前，国内大部分中小学的排课工作仍严重依赖人工，通过 Excel 等工具手动编排，过程繁琐、耗时巨大，且极易出错。教务管理者常常需要花费数周时间，反复协调教师、班级和教室资源，才能制定出一份相对可行的课表。课表一旦确定，任何临时的调动（如教师请假、活动占用）都会引发连锁反应，给教务管理带来巨大压力。

为了解决以上痛点，我们计划开发一款面向 K-12 阶段（小学、初中、高中）的智能排课排场室系统，旨在通过信息技术和智能算法，将教务管理者从复杂、重复的劳动中解放出来，实现排课工作的自动化、智能化和可视化。

### 1.2 产品愿景
成为 K-12 学校教务管理的得力助手，让排课不再是一项难题，而是"一键可达"的轻松任务，显著提升教学资源利用率和管理效率。

### 1.3 目标用户
*   **核心用户**: 学校的**教务管理者**（教务主任、教务员），他们是系统的主要操作者，负责数据录入、排课、调整和发布。
*   **次要用户**: 学校**教师**，他们是课表的使用者，需要查询自己的课表和监考安排。

## 2.0 功能性需求 (FRD)

### 2.1 模块一：基础数据设置

这是系统运行的基础，要求操作简便，支持批量导入。

| 功能点 | 功能描述 | 优先级 |
| :--- | :--- | :--- |
| **2.1.1 用户与角色管理** | - 支持创建、编辑、删除用户账号。<br>- 内置"系统管理员"、"教务员"、"教师"三种角色，并预设权限。<br>- 管理员可分配用户角色。 | 高 |
| **2.1.2 教师档案管理** | - 录入教师基本信息：姓名、工号。<br>- 维护教师授课信息：可授学科（可多选）。<br>- 设置教师排课要求：周课时上限、固定的不排课时间（如周二下午教研）。 | 高 |
| **2.1.3 班级与课程管理** | - **班级管理**：按年级管理行政班级，录入班级名称（如"七年级(1)班"）、班级人数。<br>- **课程管理**：维护全校的课程列表，定义课程属性（如是否连排、单双周、对场地类型有无要求）。 | 高 |
| **2.1.4 场室资源管理** | - 录入全校所有可用场室，包括教室、实验室、功能室、操场等。<br>- 定义场室属性：名称、容量、类型（如普通教室、计算机房）。<br>- 支持将普通教室与行政班级进行"固定绑定"。 | 高 |
| **2.1.5 教学计划管理** | - **核心功能**：为每个班级分配本学期的课程及授课教师。<br>- 这是自动排课的"任务清单"。<br>- **年级批量设置**：支持用户为同一年级下所有班级一次性配置课程结构，并为每班分配授课教师，提升配置效率。 | 高 |
| **2.1.6 时间与规则设置** | - **作作息时间**：设置全校统一的每日节次时间表。<br>- **排课规则**：定义全局规则，如"体育课不能在午间第一节"、"某几门课不能安排在同一天"等。 | 高 |
| **2.1.7 数据导入** | - 支持通过模板化的 Excel 文件批量导入教师、班级、课程等基础数据。 | 中 |

### 2.1.5 教学计划管理（补充说明）

为进一步提升教务管理效率，系统支持“年级批量设置教学计划”功能：
- 用户可在界面选择年级，系统自动筛选出该年级下所有班级（通过班级名称解析年级信息，如“高一1班”→“高一”）。
- 用户可为年级统一配置课程结构（课程名称、课时、是否连排等），并为每个班级分配授课教师。
- 批量提交后，系统为所有未有教学计划的班级创建教学计划，已有计划的班级自动跳过，避免重复。
- 支持后续对单个班级的教学计划进行独立编辑。
- 前端交互流程包括：年级选择→课程配置→为每班分配教师→批量提交。
- 前端表单和API请求结构采用嵌套数组设计，便于批量操作和后续扩展。

该功能极大减少了重复劳动，确保数据一致性，为大规模学校的教务管理提供高效工具。

### 2.2 模块二：智能排课引擎

系统的核心功能，追求"快、准、灵"。

| 功能点 | 功能描述 | 优先级 |
| :--- | :--- | :--- |
| **2.2.1 一键自动排课** | - 用户点击"开始排课"后，系统根据所有基础数据和规则，自动运行算法。<br>- 目标是生成一份**无硬性冲突**（同一教师/班级/教室在同一时间被重复安排）的课表。<br>- 排课完成后，如存在无法满足的规则（软/硬冲突），应给出清晰的冲突列表。 | 高 |
| **2.2.2 可视化手动调课** | - 提供网格化的课表视图，支持按"班级"或"教师"视角切换。<br>- 用户可通过鼠标**拖拽**课程卡片到新的时间格子。<br>- **实时冲突检测**：在拖拽过程中，系统自动判断目标位置是否可用，若冲突则高亮红色并禁止放置。<br>- 支持**交换两节课**的位置。 | 高 |

### 2.3 模块三：日常应用与输出

满足排课完成后的日常管理、查询和分发需求。

| 功能点 | 功能描述 | 优先级 |
| :--- | :--- | :--- |
| **2.3.1 多维度课表查询** | - **班级课表**：查看指定班级的周课表。<br>- **教师课表**：查看指定教师的周课表。<br>- **教室课表**：查看指定专用教室的周课表。<br>- **全校总课表**：以年级或全体教师为单位的总览视图。 | 高 |
| **2.3.2 打印与导出** | - 所有课表视图均支持**一键打印**，并提供简洁美观的打印样式。<br>- 支持将各类课表**导出为 Excel 文件**，方便用户二次编辑和分发。 | 高 |
| **2.3.3 临时调/代课辅助** | - 提供"查找空闲资源"工具。<br>- 用户可输入时间点，快速查询该时刻空闲的教师（可按学科筛选）和教室（可按类型筛选），为临时调课提供决策支持。 | 中 |
| **2.3.4 监考安排** | - 作为一个独立的子功能，用于期中、期末考试的安排。<br>- 教务员设置考试的科目、时间、班级后，系统自动分配考场和监考教师。<br>- 生成并支持打印总的监考安排表和教师个人监考通知单。 | 中 |

## 3.0 非功能性需求

| 类别 | 需求描述 |
| :--- | :--- |
| **3.1 性能需求** | - 对于一个50个班级、200名教师规模的学校，一键自动排课的计算时间应在 **5分钟** 以内。<br>- 页面加载和数据查询响应时间应在 **3秒** 以内。 |
| **3.2 易用性需求** | - 界面设计简洁、直观，符合教务人员的操作习惯。<br>- 关键操作有引导提示，无需专门培训即可上手。<br>- 所有数据以表格和图形化卡片展示，清晰易懂。 |
| **3.3 可靠性需求** | - 系统应保证 7x24 小时稳定运行，尤其是在排课高峰期。<br>- 数据自动备份，防止因误操作或意外导致数据丢失。 |
| **3.4 兼容性需求** | - 支持主流的现代浏览器访问，如 Google Chrome, Firefox, Microsoft Edge 的最新版本。 |

## 4.0 版本规划 (Roadmap)

### V1.0 (MVP - 最小可行产品)
*   **核心目标**: 解决最核心的"自动排课"和"手动调整"问题。
*   **包含功能**:
    *   模块一：全部基础数据的手动录入功能。
    *   模块二：一键排课和可视化手动调课。
    *   模块三：班级、教师课表的查询、打印和导出功能。

### V1.1
*   **核心目标**: 提升易用性和日常管理效率。
*   **包含功能**:
    *   上线 Excel 批量导入功能。
    *   增加"临时调/代课辅助"工具。

### V2.0
*   **核心目标**: 拓展至考试场景。
*   **包含功能**:
    *   上线独立的"监考安排"模块。
    *   增加更多维度的统计分析报表。